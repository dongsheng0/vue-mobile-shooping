{"remainingRequest":"C:\\project_xcx\\vue-mobile-shooping\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\project_xcx\\vue-mobile-shooping\\src\\pages\\home\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\project_xcx\\vue-mobile-shooping\\src\\pages\\home\\index.vue","mtime":1567492498181},{"path":"C:\\project_xcx\\vue-mobile-shooping\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\project_xcx\\vue-mobile-shooping\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\project_xcx\\vue-mobile-shooping\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\project_xcx\\vue-mobile-shooping\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport serverHttp from '../../assets/js/api'\r\nimport \"../../assets/style/index.css\";\r\nimport navigate from '../../components/footer/navigate'\r\nimport imageAd from \"../../components/home/imageAd.vue\";\r\nexport default {\r\n  name: \"page\",\r\n  components: {\r\n    navigate,\r\n    [imageAd.name]: imageAd,\r\n  },\r\n  data: function () {\r\n    return {\r\n      weixin: \"我还是我\",\r\n      searchvalue: '',\r\n      bannerList: [],\r\n      productList: [],\r\n      active: 'scenic',\r\n      page: {},\r\n      tabs: [\r\n        { title: '景区', type: 1, name: 'scenic' },\r\n        { title: '酒店', type: 2, name: 'hotel' },\r\n        { title: '商品', type: 3, name: 'goods' }\r\n      ]\r\n    }\r\n  },\r\n  created: function () {\r\n  },\r\n  mounted () {\r\n    this.getBannerData()\r\n    this.gitScenicListData()\r\n    this.getHotelListData()\r\n    this.url = window.location.hash\r\n  },\r\n  methods: {\r\n    onSearch (e) {\r\n      this.$router.push(`/search?keyword=${encodeURIComponent(e)}`)\r\n    },\r\n    getBannerData () {\r\n      let that = this\r\n      serverHttp.bannerApi().then(res => {\r\n        that.bannerList = res.rs\r\n      })\r\n    },\r\n    // 酒店列表\r\n    getHotelListData () {\r\n      // provinceCode\t是\tint\t省代码\r\n      // cityCode\t否\tint\t市代码\r\n      // lat\t是\tdouble\t纬度\r\n      // lng\t是\tdouble\t经度\r\n      // pageNum\t否\tint\t当前页，默认1\r\n      // pageSize\t否\tint\t分页大小，默认20\r\n\r\n      let data = {\r\n        provinceCode: 110000,\r\n        cityCode: null,\r\n        lat: 116.33664,\r\n        lng: 39.94228,\r\n        pageNum: 1\r\n      }\r\n      serverHttp.hotelListApi(data).then(res => {\r\n        this.productList = res.rs.list\r\n      })\r\n    },\r\n    // 获取景区列表\r\n    gitScenicListData () {\r\n\r\n      // 参数名称\t必选\t类型及范围\t说明\r\n      // provinceCode\t 是\tint\t省代码\r\n      // cityCode\t否\tint\t市代码\r\n      // lat\t是\tdouble\t纬度 116.33664\r\n      // lng\t是\tdouble\t经度\r\n      // pageNum\t否\tint\t当前页，默认1\r\n      // pageSize\t否\tint\t分页大小，默认20\r\n      let data = {\r\n        provinceCode: 110000,\r\n        lat: 116.33664,\r\n        lng: 39.94228,\r\n        pageNum: 1\r\n      }\r\n      serverHttp.scenicSpotsApi(data).then(res => {\r\n        console.log()\r\n        this.productList = res.rs.list\r\n      })\r\n    },\r\n    tabClick (name) {\r\n      console.log(name)\r\n      switch (name) {\r\n        case 'scenic':\r\n          this.gitScenicListData();\r\n          break;\r\n        case 'hotel':\r\n          this.getHotelListData();\r\n          break;\r\n        default:\r\n          this.gitScenicListData();\r\n          break;\r\n      }\r\n    },\r\n    showProductDetail (product) {\r\n      console.log(product)\r\n      this.$router.push(`/${this.active}/${product.id}`);\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/home","sourcesContent":["<template>\r\n  <div class=\"home-page\">\r\n    <div>{{weixin}}</div>\r\n    <!-- <navigate />\r\n    <div>\r\n      <van-search v-model=\"searchvalue\" placeholder=\"请输入搜索关键词\" show-action shape=\"round\" @search=\"onSearch\">\r\n        <div slot=\"action\" @click=\"onSearch\">搜索</div>\r\n      </van-search>\r\n    </div>\r\n    <span class=\"address home-city\">北京</span>-->\r\n    <!-- <imageAd :bannerList=\"bannerList\"></imageAd> -->\r\n    <div class=\"content\">\r\n      <!-- 菜单-->\r\n      <van-tabs v-model=\"active\" title-active-color=\"#F37455\" @click=\"tabClick\" :border=\"false\">\r\n        <van-tab v-for=\"(item, index) in tabs\" :key=\"index\" :name=\"item.name\">\r\n          <div slot=\"title\">\r\n            <span class=\"tab\" :class=\"item.name\"></span>\r\n            <p class=\"h_title\">{{item.title}}</p>\r\n          </div>\r\n        </van-tab>\r\n      </van-tabs>\r\n      <!-- 列表 -->\r\n      <div class=\"top-border\"></div>\r\n      <div v-for=\"item in productList\" :key=\"item.id\">\r\n        <product-card :product=\"item\" @click=\"showProductDetail(item)\">\r\n          <template slot=\"bottom\">\r\n            <div class=\"p-tag\">\r\n              <span class=\"p-tag-icon\"></span>\r\n              <span class=\"p-tag-price\">￥{{item.minimumPrice}}</span>\r\n            </div>\r\n            <!-- <div class=\"p-time\">\r\n              <span class=\"p-time-end\">限时：{{item.time}}</span>\r\n              <div class=\"p-tag\">\r\n                <span class=\"p-tag-icon\"></span>\r\n                <span class=\"p-tag-price\">￥{{item.price}}</span>\r\n              </div>\r\n            </div>-->\r\n          </template>\r\n        </product-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport serverHttp from '../../assets/js/api'\r\nimport \"../../assets/style/index.css\";\r\nimport navigate from '../../components/footer/navigate'\r\nimport imageAd from \"../../components/home/imageAd.vue\";\r\nexport default {\r\n  name: \"page\",\r\n  components: {\r\n    navigate,\r\n    [imageAd.name]: imageAd,\r\n  },\r\n  data: function () {\r\n    return {\r\n      weixin: \"我还是我\",\r\n      searchvalue: '',\r\n      bannerList: [],\r\n      productList: [],\r\n      active: 'scenic',\r\n      page: {},\r\n      tabs: [\r\n        { title: '景区', type: 1, name: 'scenic' },\r\n        { title: '酒店', type: 2, name: 'hotel' },\r\n        { title: '商品', type: 3, name: 'goods' }\r\n      ]\r\n    }\r\n  },\r\n  created: function () {\r\n  },\r\n  mounted () {\r\n    this.getBannerData()\r\n    this.gitScenicListData()\r\n    this.getHotelListData()\r\n    this.url = window.location.hash\r\n  },\r\n  methods: {\r\n    onSearch (e) {\r\n      this.$router.push(`/search?keyword=${encodeURIComponent(e)}`)\r\n    },\r\n    getBannerData () {\r\n      let that = this\r\n      serverHttp.bannerApi().then(res => {\r\n        that.bannerList = res.rs\r\n      })\r\n    },\r\n    // 酒店列表\r\n    getHotelListData () {\r\n      // provinceCode\t是\tint\t省代码\r\n      // cityCode\t否\tint\t市代码\r\n      // lat\t是\tdouble\t纬度\r\n      // lng\t是\tdouble\t经度\r\n      // pageNum\t否\tint\t当前页，默认1\r\n      // pageSize\t否\tint\t分页大小，默认20\r\n\r\n      let data = {\r\n        provinceCode: 110000,\r\n        cityCode: null,\r\n        lat: 116.33664,\r\n        lng: 39.94228,\r\n        pageNum: 1\r\n      }\r\n      serverHttp.hotelListApi(data).then(res => {\r\n        this.productList = res.rs.list\r\n      })\r\n    },\r\n    // 获取景区列表\r\n    gitScenicListData () {\r\n\r\n      // 参数名称\t必选\t类型及范围\t说明\r\n      // provinceCode\t 是\tint\t省代码\r\n      // cityCode\t否\tint\t市代码\r\n      // lat\t是\tdouble\t纬度 116.33664\r\n      // lng\t是\tdouble\t经度\r\n      // pageNum\t否\tint\t当前页，默认1\r\n      // pageSize\t否\tint\t分页大小，默认20\r\n      let data = {\r\n        provinceCode: 110000,\r\n        lat: 116.33664,\r\n        lng: 39.94228,\r\n        pageNum: 1\r\n      }\r\n      serverHttp.scenicSpotsApi(data).then(res => {\r\n        console.log()\r\n        this.productList = res.rs.list\r\n      })\r\n    },\r\n    tabClick (name) {\r\n      console.log(name)\r\n      switch (name) {\r\n        case 'scenic':\r\n          this.gitScenicListData();\r\n          break;\r\n        case 'hotel':\r\n          this.getHotelListData();\r\n          break;\r\n        default:\r\n          this.gitScenicListData();\r\n          break;\r\n      }\r\n    },\r\n    showProductDetail (product) {\r\n      console.log(product)\r\n      this.$router.push(`/${this.active}/${product.id}`);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.home-page {\r\n  .search {\r\n    margin: 15px;\r\n    height: 35px;\r\n    border-radius: 20px;\r\n    border: 1px solid rgba(240, 240, 240, 1);\r\n    text-align: center;\r\n    /deep/ a {\r\n      display: block;\r\n      width: 100%;\r\n    }\r\n    .van-icon-search {\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  .home-city {\r\n    margin-left: 15px;\r\n  }\r\n  .h_title {\r\n    line-height: 22px;\r\n  }\r\n  /deep/ .tab {\r\n    margin: 0 auto;\r\n  }\r\n  .scenic {\r\n    width: 52px;\r\n    height: 52px;\r\n    background: url(../../assets/img/icon/icon_scenic.png) no-repeat;\r\n  }\r\n  .hotel {\r\n    width: 52px;\r\n    height: 52px;\r\n    background: url(../../assets/img/icon/icon_hotel.png) no-repeat;\r\n  }\r\n  .goods {\r\n    width: 52px;\r\n    height: 52px;\r\n    background: url(../../assets/img/icon/icon_goods.png) no-repeat;\r\n  }\r\n\r\n  .content {\r\n    padding: 15px;\r\n    .top-border {\r\n      height: 14px;\r\n      background: linear-gradient(\r\n        180deg,\r\n        rgba(0, 0, 0, 0.03) 0%,\r\n        rgba(0, 0, 0, 0) 100%\r\n      );\r\n    }\r\n  }\r\n  /deep/.van-tabs--line .van-tabs__wrap {\r\n    height: auto;\r\n  }\r\n  /deep/ .van-tabs__line {\r\n    height: 3px;\r\n    background: url(../../assets/img/tabs__line.png) no-repeat center;\r\n    bottom: 3px;\r\n  }\r\n  .van-card__bottom {\r\n    line-height: 26px;\r\n  }\r\n}\r\n</style>\r\n"]}]}